{% extends 'base.html' %}

{% block content %}

<style>
  tr:last-child {
    background: rgb(250, 194, 194);
  }
</style>

  <h1 class="text-2xl font-bold">CYBER-KATALOG</h1>
  <br>
  <h5>{{ nama_mahasiswa }}</h5>
  <h5>{{ kelas_mahasiswa }}</h5>
  <br>
  <h3>{{ name }}</h3>
  <h5>Tersisa: {{ amount }}</h5>
  <p>{{ description }}</p>
  <br/>

  <h2 class="text-lg text-bold">
    Total items: {{ count }}
  </h2>
  <div class="relative overflow-x-auto shadow-md sm:rounded-lg">
    <table class="w-full">
      <tr class="bg-gray-300">
        <th class="px-6 py-3">Name</th>
        <th class="px-6 py-3">Tersisa</th>
        <th class="px-6 py-3">Description</th>
        <th class="px-6 py-3">Time Added</th>
        <th class="px-6 py-3">Feature</th>
      </tr>

      {% for item in items %}
        <tr class="bg-white hover:bg-gray-200">
          <td class="px-6 py-3">{{item.name}}</td>
          <td class="px-6 py-3">{{item.amount}}</td>
          <td class="px-6 py-3">{{item.description}}</td>
          <td class="px-6 py-3">{{item.created_at}}</td>
          <td class="px-6 py-3 flex gap-4">
            <a href="{% url 'main:increment_counter' item.id %}">
              <button class="bg-gray-300 px-1 hover:bg-gray-400 transition-all duration-200 mt-2 mb-5">
                ++
              </button>
            </a>
            <a href="{% url 'main:decrement_counter' item.id %}">
              <button class="bg-gray-300 px-1 hover:bg-gray-400 transition-all duration-200 mt-2 mb-5">
                --
              </button>
            </a>
            <a href="{% url 'main:delete_item' item.id %}"">
              <button class="bg-gray-300 px-1 hover:bg-gray-400 transition-all duration-200 mt-2 mb-5">
                delete
              </button>
            </a>
          </td>
        </tr>
      {% endfor %}
    </table>
  </div>
  <a href="{% url 'main:create_item' %}">
    <button class="bg-gray-300 py-2 px-4 hover:bg-gray-400 rounded-lg transition-all duration-200 mt-2 mb-5">
        Add New Item
    </button>
  </a>
  <h5>Nama pengguna: {{ current_user }}</h5>
  <h5>Sesi terakhir login: {{ last_login }}</h5>
  <a href="{% url 'main:logout' %}">
    <button class="bg-gray-300 py-2 px-4 hover:bg-gray-400 rounded-lg transition-all duration-200">
        Logout
    </button>
  </a>
{% endblock content %}